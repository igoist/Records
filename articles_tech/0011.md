# Typescript React HMR è¦ç‚¹

Typescript React HMRï¼Œä¸€å¼€å§‹çœ‹ React Hot Loader ä¸Šé¢æç¤ºï¼Œè¯´ä¸€å®šéœ€è¦ "through Babel to transform it"ï¼Œçœ‹ç€é…ç½®å¤ªå¤æ‚ï¼Œè§‰å¾—éº»çƒ¦ï¼Œäºæ˜¯æ”¾å¼ƒäº†

åæ¥ç”¨äº†ä¸€é˜µå­è‡ªå·±çš„ erbï¼Œæœ¬èº«ä¹Ÿå·²ç»æ„Ÿè§‰åˆ°è¯¸å¤šä¸ç—›å¿«ï¼Œç›´åˆ°æ™“å¾—äº† tsconfig çš„ target é™¤ "es5" è¿˜å¯ä»¥æœ‰ "es6" ç­‰å¤šç§é€‰æ‹©ï¼Œè¿™ç›¸å½“äº...

é—®é¢˜æœ€ç»ˆå›åˆ°äº†ä»¥å‰å†™ react-boilerplate æ—¶è¯¥æ€æ ·é…ç½® HMR

æˆ‘æ˜¯æƒ³è¯´ï¼Œå“ªæ€•é•¿æœŸè®°å¿†å¥½ï¼Œæ—¶éš”è¿™ä¹ˆä¹…ï¼Œè‡ªå·±é‡æ–°å†æ¥é…ï¼Œè¿˜æ˜¯å®¹æ˜“å¯¹è¿™ç§é…ç½®çš„ç»†èŠ‚è®°å¿†ä¸Šæœ‰æ¨¡ç³Šã€é—æ¼...

æ‰€ä»¥è¿˜æ˜¯è¶è¿™å›ï¼Œå¥½å¥½è®°ç¬”è®°å§


**List**

* Version 4 "through Babel to transform it"
* webpack ä¸ webpack-dev-server é…ç½®ç›¸å…³
* .babelrc -- "plugins": ["react-hot-loader/babel"]
* ts module.hot
* AppContainer


### Version 4 "through Babel to transform it"

è¿™ä¸ªä¸ç”¨è®²äº†ï¼Œä¸‹ä¸€é¢˜


### webpack ä¸ webpack-dev-server é…ç½®ç›¸å…³

ä¸»è¦æ˜¯å‡ ä¸ªå‚æ•°æ„ä¹‰éœ€è¦å¼„æ¸…æ¥š

å¦‚ webpackConfig.devServer ä¸‹ hot ä¸é‚£ä¸ªä»€ä¹ˆï¼Ÿ(--hot)å†²çª


### .babelrc -- "plugins": ["react-hot-loader/babel"]

ä»¥å‰é…æˆåŠŸè¿‡ï¼Œä½†è¿˜æ˜¯æ²¡æœ‰ç•™æ„ï¼š.babelrc ä¸­éœ€è¦ğŸ‘†çš„

ç®€å•è®²ï¼Œæƒ³è¦çƒ­æ›´æ–°åŒæ—¶ä¸ä¸¢å¤± component stateï¼Œä¸èƒ½å¿˜è®°è¿™æ¡

å½“ç„¶å‰ææ˜¯ç¡®ä¿å…¶ä»–é…ç½®æ²¡é—®é¢˜


### ts module.hot

è¯¦è§ @types/webpack-env


### AppContainer

React Hot Loader çš„å®ç°ä¾èµ–ä¸¤ä¸ªä¸»è¦çš„åº“ gaearon/react-proxy å’Œ gaearon/react-deep-force-update

è¿™ä¸¤ä¸ªåº“åœ¨ babel ç¼–è¯‘è¿‡ç¨‹ä¸­ä¾µå…¥ React Comeponent çš„ç¼–è¯‘ç»“æœå’Œé€šè¿‡ React çš„éšè— api å¼ºåˆ¶åˆ·æ–°ç»„ä»¶æ ‘æ¥å®Œç¾çš„å®ç°ä¿æŒçŠ¶æ€çš„ React HMR

...

æœ€åè¿™æ­¥ï¼ŒåŸç†å¯ä»¥å¾€æ·±äº†è®²ï¼Œä½†ç”¨æ³•å°±æ˜¯é‚£ä¹ˆ...

AppContainer & module.hot