# 网络及代理笔记



USER-AGENT 这个确实无解，QX 走 TUN 不 MITM 是无法获取 HTTPS 的 USER-AGENT 的，另外即使 MITM，QX 的默认方案也是先与服务端建立连接，获取证书修改再与客户端握手，这就意味着分流前也是无法获取到 UA 。

但其实优先级这个设计也有一些优点，这样加载的规则能减少复杂度，从而能原生支持比较大量的规则。而 Surge 类的软件则是使用自由度较低的 DOMAIN-SET 来实现大量规则同时维持顺序匹配的方式。