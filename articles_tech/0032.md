# 网络及代理学习笔记



USER-AGENT 这个确实无解，QX 走 TUN 不 MITM 是无法获取 HTTPS 的 USER-AGENT 的，另外即使 MITM，QX 的默认方案也是先与服务端建立连接，获取证书修改再与客户端握手，这就意味着分流前也是无法获取到 UA 。

但其实优先级这个设计也有一些优点，这样加载的规则能减少复杂度，从而能原生支持比较大量的规则。而 Surge 类的软件则是使用自由度较低的 DOMAIN-SET 来实现大量规则同时维持顺序匹配的方式。


## 所谓代理

代理其实就是一个中介，A和B本来可以直连，中间插入一个 C，C 就是中介。

刚开始的时候，代理多数是帮助内网client访问外网server用的（比如HTTP代理），从内到外。

后来出现了反向代理，"反向"这个词在这儿的意思其实是指方向相反，即代理将来自外网 client 的请求 forward 到内网 server，从外到内。